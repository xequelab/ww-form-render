# Form Renderer - WeWeb Component

A powerful Vue component for rendering dynamic forms from JSON schema in WeWeb applications.

## Overview

The **Form Renderer** component consumes a JSON schema (generated by the Form Builder component) and renders a fully functional form with:

- 8 field types (text, textarea, number, email, select, checkbox, radio, date)
- Real-time validation
- Custom error messages
- Responsive design
- Accessibility features

## Installation

### 1. Create a New GitHub Repository

```bash
# Clone or create this folder as a new repository
cd /path/to/form-renderer
git init
git add .
git commit -m "Initial commit: Form Renderer component"
git remote add origin https://github.com/YOUR-USERNAME/ww-form-renderer.git
git push -u origin main
```

### 2. Import to WeWeb

1. Go to your WeWeb project
2. Navigate to **Plugins > Custom Components**
3. Click **Add Component**
4. Select **GitHub** as source
5. Enter your repository URL: `https://github.com/YOUR-USERNAME/ww-form-renderer`
6. Click **Import**

## Usage

### Basic Example

```vue
<FormRenderer
  :schema="formSchema"
  @submit="handleSubmit"
/>
```

### With Initial Data (Edit Mode)

```vue
<FormRenderer
  :schema="formSchema"
  :initialData="userData"
  @submit="handleUpdate"
/>
```

### Custom Submit Button

```vue
<FormRenderer
  :schema="formSchema"
  :showSubmitButton="true"
  submitButtonText="Cadastrar"
  @submit="handleSubmit"
/>
```

## Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `schema` | Object | `{ fields: [] }` | Form schema from Form Builder |
| `initialData` | Object | `{}` | Pre-fill form data (for edit mode) |
| `showSubmitButton` | Boolean | `true` | Show/hide submit button |
| `submitButtonText` | String | `"Enviar"` | Submit button text |
| `disabled` | Boolean | `false` | Disable entire form |

## Events

### `submit`
Emitted when form is submitted with valid data.

**Payload:**
```javascript
{
  isValid: true,
  data: {
    field_id: "value",
    age: 25,
    email: "user@example.com"
  },
  errors: {}
}
```

### `change`
Emitted when any field value changes.

**Payload:**
```javascript
{
  fieldId: "field_name",
  value: "new value",
  formData: { /* all current form data */ }
}
```

### `validationError`
Emitted when form validation fails.

**Payload:**
```javascript
{
  errors: {
    field_id: "Error message",
    email: "Digite um email v√°lido"
  }
}
```

## Actions (Exposed Methods)

### `validate()`
Validates the form and returns errors.

```javascript
const result = await component.validate()
// Returns: { isValid: boolean, errors: object }
```

### `getData()`
Gets current form data.

```javascript
const data = component.getData()
// Returns: { field_id: "value", ... }
```

### `setData(data)`
Sets form data programmatically.

```javascript
component.setData({
  name: "John Doe",
  email: "john@example.com"
})
```

### `reset()`
Resets form to initial state.

```javascript
component.reset()
```

### `clearErrors()`
Clears all validation errors.

```javascript
component.clearErrors()
```

## Form Schema Structure

The component expects a schema object with the following structure:

```json
{
  "fields": [
    {
      "id": "unique-uuid",
      "type": "text|textarea|number|email|select|checkbox|radio|date",
      "label": "Field Label",
      "fieldId": "field_identifier",
      "placeholder": "Placeholder text",
      "required": true,
      "helpText": "Help text",
      "options": [{"label": "Option 1", "value": "opt1"}],
      "min": 0,
      "max": 100,
      "step": 1,
      "maxLength": 255
    }
  ]
}
```

## Field Types

### Text Input
```json
{
  "type": "text",
  "maxLength": 255
}
```

### Textarea
```json
{
  "type": "textarea",
  "maxLength": 1000
}
```

### Number
```json
{
  "type": "number",
  "min": 0,
  "max": 100,
  "step": 1
}
```

### Email
```json
{
  "type": "email",
  "maxLength": 255
}
```

### Select Dropdown
```json
{
  "type": "select",
  "options": [
    {"label": "Option 1", "value": "opt1"},
    {"label": "Option 2", "value": "opt2"}
  ]
}
```

### Checkbox
```json
{
  "type": "checkbox"
}
```

### Radio Buttons
```json
{
  "type": "radio",
  "options": [
    {"label": "Yes", "value": "yes"},
    {"label": "No", "value": "no"}
  ]
}
```

### Date
```json
{
  "type": "date"
}
```

## Validation Rules

- **required**: Field cannot be empty
- **email**: Must be valid email format
- **maxLength**: Maximum character limit
- **min/max**: Minimum/maximum values (number fields)
- **step**: Value must be multiple of step (number fields)

## Styling

The component uses a modern design system with:

- Clean, minimal interface
- Blue primary color (#3b82f6)
- Red error states (#dc2626)
- Responsive layout (mobile-first)
- Smooth animations and transitions
- WCAG AAA contrast ratios

### Customization

You can customize the appearance by modifying the CSS variables in `wwElement.vue`:

```css
/* Example customization */
.form-renderer {
  --primary-color: #your-color;
  --error-color: #your-error-color;
}
```

## Integration with Form Builder

1. **Create Form** using the Form Builder component
2. **Export Schema** from Form Builder
3. **Pass Schema** to Form Renderer via props
4. **Handle Submit** event to process form data

### Example Workflow

```javascript
// In Form Builder page
const schema = formBuilderComponent.exportSchema()
// Save to database or variable

// In Form Display page
<FormRenderer
  :schema="savedSchema"
  @submit="saveToDatabase"
/>

function saveToDatabase(event) {
  if (event.isValid) {
    // Send event.data to your backend
    api.post('/forms/submit', event.data)
  }
}
```

## Browser Support

- Chrome/Edge (latest)
- Firefox (latest)
- Safari (latest)
- Mobile browsers (iOS Safari, Chrome Mobile)

## Accessibility

- Full keyboard navigation
- ARIA labels and attributes
- Screen reader compatible
- High contrast ratios (WCAG AAA/AA)
- Focus indicators

## License

MIT

## Related Components

- [Form Builder](https://github.com/YOUR-USERNAME/ww-formbuilderR) - Create and design forms visually

## Support

For issues, questions, or contributions, please visit the [GitHub repository](https://github.com/YOUR-USERNAME/ww-form-renderer).

---

**Version:** 1.0.0
**Last Updated:** 2025-10-27
